(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5294:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(5480),s(2029),s(5866);var r=s(3191),a=s(8716),n=s(7922),i=s.n(n),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5480)),"/workspaces/bbox/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"/workspaces/bbox/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/workspaces/bbox/src/app/page.tsx"],x="/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2508:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},9389:(e,t,s)=>{Promise.resolve().then(s.bind(s,4497))},2043:()=>{},4497:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(326),a=s(7577);function n(){let[e,t]=(0,a.useState)(null),[s,n]=(0,a.useState)(!0),[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(null),[d,x]=(0,a.useState)(null),[p,m]=(0,a.useState)(null);async function u(){if(e&&!i){l(!0),x(null);try{let s=await fetch("/api/pick",{method:"POST",headers:{"x-bbox-fid":String(123456)}}),r=await s.json();if(s.ok){let s={fid:e.fid,username:e.username,isOg:e.isOg,totalPoints:r.totalPoints,freePicksRemaining:r.freePicksRemaining,extraPicksBalance:r.extraPicksBalance,nextFreeRefillAt:r.nextFreeRefillAt};t(s),c({rarity:r.rarity,points:r.points})}else x(r.error||"Failed to pick"),r.nextFreeRefillAt&&t(e=>e?{...e,freePicksRemaining:0,extraPicksBalance:0,nextFreeRefillAt:r.nextFreeRefillAt}:e)}catch(e){console.error(e),x("Failed to pick")}finally{l(!1)}}}let b=e&&(e.freePicksRemaining>0||e.extraPicksBalance>0);return r.jsx("main",{className:"min-h-screen flex flex-col items-center justify-center px-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md space-y-6",children:[(0,r.jsxs)("header",{className:"text-center space-y-2",children:[r.jsx("h1",{className:"text-3xl font-bold text-baseBlue",children:"BBOX"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Daily Based Box game. Pick a box, earn points, climb the leaderboard."})]}),s&&r.jsx("p",{className:"text-center text-sm text-gray-400",children:"Loading your BBOX profile..."}),!s&&e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("section",{className:"rounded-xl border border-gray-800 p-4 space-y-2 bg-gray-950/60",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-400",children:["FID: ",r.jsx("span",{className:"font-mono text-gray-200",children:e.fid})]}),(0,r.jsxs)("p",{className:"text-sm",children:["Total points: ",r.jsx("span",{className:"font-semibold",children:e.totalPoints})]}),(0,r.jsxs)("p",{className:"text-sm",children:["Free picks today:"," ",r.jsx("span",{className:"font-semibold",children:e.freePicksRemaining})]}),(0,r.jsxs)("p",{className:"text-sm",children:["Extra picks:"," ",r.jsx("span",{className:"font-semibold",children:e.extraPicksBalance})]}),e.isOg&&r.jsx("p",{className:"inline-flex items-center rounded-full bg-baseBlue/20 px-3 py-1 text-xs font-semibold text-baseBlue mt-1",children:"BBOX OG"}),!b&&e.nextFreeRefillAt&&(0,r.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Next free pick in:"," ",r.jsx("span",{className:"font-mono",children:p??"00:00:00"})]})]}),(0,r.jsxs)("section",{className:"rounded-xl border border-gray-800 p-4 bg-gray-950/60 space-y-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-center",children:"Pick your BBOX"}),r.jsx("p",{className:"text-xs text-center text-gray-400",children:"Each pick reveals one of three boxes. One pick = one opening."}),r.jsx("div",{className:"grid grid-cols-3 gap-3 mt-3",children:[0,1,2].map(e=>r.jsx("button",{disabled:!b||i,onClick:u,className:"h-20 rounded-lg border border-gray-700 bg-gradient-to-b from-gray-900 to-gray-950 flex items-center justify-center text-sm font-semibold hover:border-baseBlue disabled:opacity-40 disabled:hover:border-gray-700 transition",children:b?"BOX":"â€”"},e))}),r.jsx("button",{disabled:!b||i,onClick:u,className:"w-full mt-3 rounded-lg bg-baseBlue py-2 text-sm font-semibold disabled:opacity-50",children:i?"Opening...":"Open a box"}),o&&(0,r.jsxs)("div",{className:"mt-4 rounded-lg border border-gray-800 p-3 text-sm space-y-1",children:[(0,r.jsxs)("p",{children:["You opened a"," ",(0,r.jsxs)("span",{className:"legendary"===o.rarity?"text-legendary font-bold":"epic"===o.rarity?"text-epic font-semibold":"rare"===o.rarity?"text-rare font-semibold":"text-gray-200 font-medium",children:[o.rarity.toUpperCase()," box"]}),"!"]}),(0,r.jsxs)("p",{children:["Reward:"," ",(0,r.jsxs)("span",{className:"font-semibold text-baseBlue",children:["+",o.points," points"]})]}),r.jsx("button",{className:"mt-2 inline-flex items-center rounded-full border border-gray-700 px-3 py-1 text-xs text-gray-200 hover:border-baseBlue",onClick:()=>{let e=`I just opened a ${o.rarity.toUpperCase()} box on BBOX and got +${o.points} points ðŸ”¥`;navigator.share?navigator.share({text:e}).catch(()=>{}):(navigator.clipboard.writeText(e).catch(()=>{}),alert("Share text copied to clipboard!"))},children:"Share result"})]}),d&&r.jsx("p",{className:"mt-3 text-xs text-red-400 text-center",children:d})]}),(0,r.jsxs)("section",{className:"text-center text-xs text-gray-500",children:[r.jsx("p",{children:"Shop & OG purchase UI are not wired yet in this MVP screen,"}),r.jsx("p",{children:"but backend endpoints are ready: /api/buy/og and /api/buy/extra."})]})]})]})})}},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>a});var r=s(9510);s(4315);let a={title:"BBOX | Daily Based Box Game",description:"Open your BBOX daily, earn points, climb the leaderboard."};function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:"min-h-screen bg-black text-white",children:e})})}},5480:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=s(8570);let a=(0,r.createProxy)(String.raw`/workspaces/bbox/src/app/page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let l=(0,r.createProxy)(String.raw`/workspaces/bbox/src/app/page.tsx#default`)},4315:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,471],()=>s(5294));module.exports=r})();